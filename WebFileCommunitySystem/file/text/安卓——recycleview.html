<!DOCTYPE html><html lang='zh-cn'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='content - type' content='text/html; charset=UTF-8'>
<metaname='viewport' content='width=device-width,initial-scale=1.0'/> 
<title>安卓——recycleview</title></head><body><ol><li>导入recycle 包</li></ol><div style="color: rgb(248, 248, 242); background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;">    compile <span style="color: #e6db74;">'com.android.support:recyclerview-v7:25.3.1'</span></div><ol><li>第一步建立显示子项布局</li></ol>xml&lt;?<span style="background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre; color: rgb(249, 38, 114);">xml</span><span style="background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre; color: rgb(166, 226, 46);"> version</span><span style="background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">=</span><span style="background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre; color: rgb(230, 219, 116);">"1.0"</span><span style="background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre; color: rgb(166, 226, 46);"> encoding</span><span style="background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">=</span><span style="background-color: rgb(39, 40, 34); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre; color: rgb(230, 219, 116);">"utf-8"</span><span style="background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">?&gt;</span><div style="background-color: rgb(39, 40, 34); line-height: 19px;"><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">&lt;<span style="color: #f92672;">LinearLayout</span> <span style="color: #a6e22e;">xmlns:android</span>=<span style="color: #e6db74;">"http://schemas.android.com/apk/res/android"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">    <span style="color: #a6e22e;">android:layout_width</span>=<span style="color: #e6db74;">"match_parent"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">    <span style="color: #a6e22e;">android:layout_height</span>=<span style="color: #e6db74;">"match_parent"</span>&gt;</div><br><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">    &lt;<span style="color: #f92672;">ImageView</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:id</span>=<span style="color: #e6db74;">"@+id/img"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_width</span>=<span style="color: #e6db74;">"300dp"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_height</span>=<span style="color: #e6db74;">"400dp"</span> /&gt;</div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">    &lt;<span style="color: #f92672;">TextView</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_width</span>=<span style="color: #e6db74;">"wrap_content"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_height</span>=<span style="color: #e6db74;">"wrap_content"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:id</span>=<span style="color: #e6db74;">"@+id/txt"</span>/&gt;</div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">    &lt;<span style="color: #f92672;">TextView</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_width</span>=<span style="color: #e6db74;">"wrap_content"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:layout_height</span>=<span style="color: #e6db74;">"wrap_content"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:textSize</span>=<span style="color: #e6db74;">"10dp"</span></div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">        <span style="color: #a6e22e;">android:id</span>=<span style="color: #e6db74;">"@+id/txt1"</span>/&gt;</div><div style="color: rgb(248, 248, 242); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; white-space: pre;">&lt;/<span style="color: #f92672;">LinearLayout</span>&gt;</div><div style=""><font color="#ffffff" face="Consolas, Courier New, monospace"><span style="font-size: 14px; white-space: pre;"><br></span></font></div><div style=""><font color="#ffffff" face="Consolas, Courier New, monospace" size="5"><span style="white-space: pre;">2. 建立相应的基类</span></font></div><div style=""><font color="#ffffff" face="Consolas, Courier New, monospace" size="5"><span style="white-space: pre;"><br></span></font></div><div style=""><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px; white-space: pre;"><div style="color: rgb(248, 248, 242); font-size: 14px;"><span style="color: #f92672;">package</span> <span style="color: #f92672;">com.example.administrator.application_recycleview</span>;</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;"><span style="color: #75715e;">/**</span></div><div style="color: rgb(248, 248, 242); font-size: 14px;"><span style="color: #75715e;"> * Created by Administrator on 2018/1/1.</span></div><div style="color: rgb(248, 248, 242); font-size: 14px;"><span style="color: #75715e;"> */</span></div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;"><span style="color: #f92672;">public</span> <span style="color: #f92672;">class</span> <span style="color: rgb(166, 226, 46); text-decoration-line: underline;">Item</span> {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">private</span> <span style="color: #66d9ef;font-style: italic;">String</span> txt1;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">private</span> <span style="color: #66d9ef;font-style: italic;">String</span> txt2;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">private</span> <span style="color: #66d9ef;font-style: italic;">int</span> img;</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">String</span> <span style="color: #a6e22e;">getTxt1</span>() {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #f92672;">return</span> txt1;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">void</span> <span style="color: #a6e22e;">setTxt1</span>(<span style="color: #66d9ef;font-style: italic;">String</span> <span style="color: #fd971f;font-style: italic;">txt1</span>) {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #fd971f;">this</span>.txt1 <span style="color: #f92672;">=</span> txt1;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">String</span> <span style="color: #a6e22e;">getTxt2</span>() {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #f92672;">return</span> txt2;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">void</span> <span style="color: #a6e22e;">setTxt2</span>(<span style="color: #66d9ef;font-style: italic;">String</span> <span style="color: #fd971f;font-style: italic;">txt2</span>) {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #fd971f;">this</span>.txt2 <span style="color: #f92672;">=</span> txt2;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">int</span> <span style="color: #a6e22e;">getImg</span>() {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #f92672;">return</span> img;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span><div style="color: rgb(248, 248, 242); font-size: 14px;">    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">void</span> <span style="color: #a6e22e;">setImg</span>(<span style="color: #66d9ef;font-style: italic;">int</span> <span style="color: #fd971f;font-style: italic;">img</span>) {</div><div style="color: rgb(248, 248, 242); font-size: 14px;">        <span style="color: #fd971f;">this</span>.img <span style="color: #f92672;">=</span> img;</div><div style="color: rgb(248, 248, 242); font-size: 14px;">    }</div><div style="color: rgb(248, 248, 242); font-size: 14px;">}</div><div style="color: rgb(248, 248, 242); font-size: 14px;"><br></div><div style="color: rgb(248, 248, 242); font-size: 14px;"><hr></div><div style="color: rgb(248, 248, 242);"><span style="font-size: 14px;">
</span><font size="6">3</font></div><div style="color: rgb(248, 248, 242); font-size: 14px;">构造适配器</div><div style="color: rgb(248, 248, 242); font-size: 14px;"><div style="line-height: 19px;"><div><span style="color: #f92672;">package</span> <span style="color: #f92672;">com.example.administrator.application_recycleview</span>;</div><br><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.content.ClipData</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.content.Context</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.support.v7.widget.RecyclerView</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.text.Layout</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.view.LayoutInflater</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.view.View</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.view.ViewGroup</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.widget.ImageView</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.widget.TextView</span>;</div><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">android.widget.Toast</span>;</div><br><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">org.w3c.dom.Text</span>;</div><br><div><span style="color: #f92672;">import</span> <span style="color: #f92672;">java.util.List</span>;</div><br><div><span style="color: #75715e;">/**</span></div><div><span style="color: #75715e;"> * Created by Administrator on 2018/1/1.</span></div><div><span style="color: #75715e;"> */</span></div><br><div><span style="color: #f92672;">public</span> <span style="color: #f92672;">class</span> <span style="color: rgb(166, 226, 46); text-decoration-line: underline;">MyAdapter</span> <span style="color: #f92672;">extends</span> <span style="color: rgb(166, 226, 46); font-style: italic; text-decoration-line: underline;">RecyclerView.Adapter</span>&lt;<span style="color: #66d9ef;font-style: italic;">MyAdapter</span>.<span style="color: #66d9ef;font-style: italic;">MyHolder</span>&gt; {</div><br><div>    <span style="color: #66d9ef;font-style: italic;">Context</span> context;</div><div>    <span style="color: #66d9ef;font-style: italic;">List</span>&lt;<span style="color: #66d9ef;font-style: italic;">Item</span>&gt; data;</div><div>    <span style="color: #f92672;">public</span> <span style="color: #a6e22e;">MyAdapter</span>(<span style="color: #66d9ef;font-style: italic;">List</span>&lt;<span style="color: #66d9ef;font-style: italic;">Item</span>&gt; <span style="color: #fd971f;font-style: italic;">data</span>,<span style="color: #66d9ef;font-style: italic;">Context</span> <span style="color: #fd971f;font-style: italic;">context</span>)</div><div>    {</div><div>        <span style="color: #fd971f;">this</span>.context<span style="color: #f92672;">=</span>context;</div><div>        <span style="color: #fd971f;">this</span>.data<span style="color: #f92672;">=</span>data;</div><div>    }</div><br><br><br><div>    <span style="color: #66d9ef;font-style: italic;">@Override</span></div><div>    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">MyHolder</span> <span style="color: #a6e22e;">onCreateViewHolder</span>(<span style="color: #66d9ef;font-style: italic;">ViewGroup</span> <span style="color: #fd971f;font-style: italic;">parent</span>, <span style="color: #66d9ef;font-style: italic;">int</span> <span style="color: #fd971f;font-style: italic;">viewType</span>) {</div><div>        <span style="color: #66d9ef;font-style: italic;">View</span> v<span style="color: #f92672;">=</span> LayoutInflater.<span style="color: #a6e22e;">from</span>(context).<span style="color: #a6e22e;">inflate</span>(</div><div>          R.layout.item,</div><div>                  parent,</div><div>                  <span style="color: #ae81ff;">false</span></div><div>        );</div><div>        <span style="color: #66d9ef;font-style: italic;">MyHolder</span> myHolder<span style="color: #f92672;">=new</span> <span style="color: #a6e22e;">MyHolder</span>(v);</div><div>        <span style="color: #f92672;">return</span> myHolder;</div><div>    }</div><br><div>    <span style="color: #66d9ef;font-style: italic;">@Override</span></div><div>    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">void</span> <span style="color: #a6e22e;">onBindViewHolder</span>(<span style="color: #66d9ef;font-style: italic;">MyHolder</span> <span style="color: #fd971f;font-style: italic;">holder</span>, <span style="color: #66d9ef;font-style: italic;">int</span> <span style="color: #fd971f;font-style: italic;">position</span>) {</div><br><div>        <span style="color: #66d9ef;font-style: italic;">Item</span> i<span style="color: #f92672;">=</span>data.<span style="color: #a6e22e;">get</span>(position);</div><div>        holder.imgv.<span style="color: #a6e22e;">setImageResource</span>(i.<span style="color: #a6e22e;">getImg</span>());</div><div>        holder.textView.<span style="color: #a6e22e;">setText</span>(i.<span style="color: #a6e22e;">getTxt1</span>());</div><div>        holder.textView1.<span style="color: #a6e22e;">setText</span>(i.<span style="color: #a6e22e;">getTxt2</span>());</div><div>    }</div><br><div>    <span style="color: #66d9ef;font-style: italic;">@Override</span></div><div>    <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">int</span> <span style="color: #a6e22e;">getItemCount</span>() {</div><div>        <span style="color: #f92672;">return</span> data.<span style="color: #a6e22e;">size</span>();</div><div>    }</div><br><div>    <span style="color: #f92672;">class</span>  <span style="color: rgb(166, 226, 46); text-decoration-line: underline;">MyHolder</span> <span style="color: #f92672;">extends</span> <span style="color: rgb(166, 226, 46); font-style: italic; text-decoration-line: underline;">RecyclerView.ViewHolder</span></div><div>    {</div><br><div>        <span style="color: #66d9ef;font-style: italic;">ImageView</span> imgv;</div><div>        <span style="color: #66d9ef;font-style: italic;">TextView</span> textView,textView1;</div><br><br><div>        <span style="color: #f92672;">public</span> <span style="color: #a6e22e;">MyHolder</span>(<span style="color: #66d9ef;font-style: italic;">View</span> <span style="color: #fd971f;font-style: italic;">itemView</span>) {</div><div>            <span style="color: #fd971f;">super</span>(itemView);</div><div>            imgv<span style="color: #f92672;">=</span> (ImageView) itemView.<span style="color: #a6e22e;">findViewById</span>(R.id.img);</div><div>            textView<span style="color: #f92672;">=</span> (TextView) itemView.<span style="color: #a6e22e;">findViewById</span>(R.id.txt);</div><div>            textView1<span style="color: #f92672;">=</span> (TextView) itemView.<span style="color: #a6e22e;">findViewById</span>(R.id.txt1);</div><div>            itemView.<span style="color: #a6e22e;">setOnClickListener</span>(<span style="color: #f92672;">new</span> View.<span style="color: #a6e22e;">OnClickListener</span>() {</div><div>                <span style="color: #66d9ef;font-style: italic;">@Override</span></div><div>                <span style="color: #f92672;">public</span> <span style="color: #66d9ef;font-style: italic;">void</span> <span style="color: #a6e22e;">onClick</span>(<span style="color: #66d9ef;font-style: italic;">View</span> <span style="color: #fd971f;font-style: italic;">v</span>) {</div><br><div>              Toast.<span style="color: #a6e22e;">makeText</span>(context,<span style="color: #e6db74;">""</span>,Toast.LENGTH_SHORT);</div><br><div>                }</div><div>            });</div><br><br><br><br><div>        }</div><div>    }</div><br><br><div>}</div><br></div></div><div style=""><hr style="font-size: 14px; color: rgb(248, 248, 242);"><font style="" size="5"><font color="#ff0000">
</font><font color="#ffffff">4主页面加载</font></font></div><div style="font-size: 14px;"><font color="#9acd32"><br></font></div><div style="color: rgb(248, 248, 242); font-size: 14px;"><div style="line-height: 19px;"><div> recyclerView<span style="color: #f92672;">=</span> (RecyclerView) <span style="color: #a6e22e;">findViewById</span>(R.id.recycle);</div><div>        list<span style="color: #f92672;">=new</span> <span style="color: #66d9ef;font-style: italic;">ArrayList</span>&lt;<span style="color: #66d9ef;font-style: italic;">Item</span>&gt;();</div><div>        <span style="color: #f92672;">for</span> (<span style="color: #66d9ef;font-style: italic;">int</span> i<span style="color: #f92672;">=</span><span style="color: #ae81ff;">0</span>;i<span style="color: #f92672;">&lt;=</span><span style="color: #ae81ff;">100</span>;i<span style="color: #f92672;">++</span>)</div><div>        {</div><div>            <span style="color: #66d9ef;font-style: italic;">Item</span> item<span style="color: #f92672;">=new</span> <span style="color: #a6e22e;">Item</span>();</div><div>            item.<span style="color: #a6e22e;">setImg</span>(R.drawable.wechat);</div><div>            item.<span style="color: #a6e22e;">setTxt1</span>(<span style="color: #e6db74;">"加我WeChat"</span>);</div><div>            item.<span style="color: #a6e22e;">setTxt2</span>(<span style="color: #e6db74;">"你好！"</span>);</div><div>            list.<span style="color: #a6e22e;">add</span>(item);</div><div>        }</div><div>        RecyclerView.LayoutManager lm<span style="color: #f92672;">=new</span> <span style="color: #a6e22e;">LinearLayoutManager</span>(</div><div>                <span style="color: #fd971f;">this</span>,</div><div>                LinearLayout.VERTICAL,</div><div>                <span style="color: #ae81ff;">false</span></div><div>        );</div><div>        RecyclerView.LayoutManager lms<span style="color: #f92672;">=new</span> <span style="color: #a6e22e;">GridLayoutManager</span>(</div><div>                <span style="color: #fd971f;">this</span>,</div><div>                 <span style="color: #ae81ff;">3</span>,</div><div>               GridLayout.VERTICAL,</div><div>                <span style="color: #ae81ff;">false</span></div><div>        );</div><div>        recyclerView.<span style="color: #a6e22e;">setLayoutManager</span>(lms);</div><div>        recyclerView.<span style="color: #a6e22e;">setAdapter</span>(<span style="color: #f92672;">new</span> <span style="color: #a6e22e;">MyAdapter</span>(list,<span style="color: #fd971f;">this</span>));</div><br></div><hr></div><span style="color: rgb(248, 248, 242); font-size: 14px;"><br></span></div></div></div></body></html>
